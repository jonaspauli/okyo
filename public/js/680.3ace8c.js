(self.webpackChunksage=self.webpackChunksage||[]).push([[680],{680:()=>{(()=>{"use strict";!function(){function e(e){let t=e.target.closest(".apple-tv-card");const s=t.clientWidth,n=t.clientHeight,a=Math.max(s,n),c=t.closest(".apple-tv-card-container");c&&(c.style.perspective=2.5*a+"px")}function t(e){c(e.target.closest(".apple-tv-card"))}function s(e){let t=e.target.closest(".apple-tv-card");t.querySelector(".content").focus(),t.classList.add("hover"),n(e)}function n(e){e.preventDefault();let t=e.target.closest(".apple-tv-card");if(!t.classList.contains("hover"))return;const s=window.matchMedia("(prefers-reduced-motion: reduce)");if(t.classList.contains("with-shadow")&&!t.querySelector(".shadow")&&s&&!s.matches){const e=document.createElement("span");e.classList.add("shadow"),t.prepend(e)}if(!t.querySelector(".reflection")&&s&&!s.matches){const e=document.createElement("span");e.classList.add("reflection"),t.prepend(e)}let n,c;if("touchmove"===e.type||"touchstart"===e.type){const s=e.touches[0],l=t.getBoundingClientRect();n=s.pageX-l.left,c=s.pageY-l.top;const o=document.elementFromPoint(s.pageX,s.pageY);if(!o||t!==o.closest(".apple-tv-card"))return void a(e)}else n=e.offsetX,c=e.offsetY;const l=t.clientWidth,o=t.clientHeight,r=(l/2-n)/l*10,i=-1*(o/2-c)/o*10,d=-1*(l/2-n)/l*10,p=-1*(o/2-c)/o*10,u=Math.max(l,o),h=t.closest(".apple-tv-card-container");h&&(h.style.perspective=2.5*u+"px"),s&&!s.matches&&(t.style.transform="translateZ(4rem) rotateY("+r+"deg) rotateX("+i+"deg) translateX("+d+"px) translateY("+p+"px)"),t.querySelectorAll(".parallax-content").forEach(((e,t)=>{if(s&&!s.matches){t++;const s=e.classList.contains("reverse")?.2:-.65;e.style.transform="scale(1.075) translateX("+d*s*t+"px) translateY("+p*s*t+"px)"}}));const f=t.querySelector(".reflection");f&&s&&!s.matches&&(f.style.width=1.5*u+"px",f.style.height=1.5*u+"px",f.style.margin=-.75*u+"px 0 0 "+-.75*u+"px",f.style.transform="translateY("+(c-o/2)+"px) translateX("+(.1*l+.8*n)+"px)");const m=t.querySelector(".shadow");if(m)if(s&&!s.matches&&c<o/3){const e=1/(o/3)*(o/3-c);m.style.opacity=e.toString(),m.style.boxShadow="inset 0 "+-1*e+"em .4em -.5em rgba(0,0,0,"+Math.min(e,.35)+")"}else m.style.opacity=null,m.style.boxShadow=null}function a(e){let t=e.target.closest(".apple-tv-card");t.querySelector(".content").blur(),c(t)}function c(e){e.classList.remove("hover"),e.style.transform=null,e.querySelectorAll(".parallax-content").forEach((e=>{e.style.transform=null}));const t=e.querySelector(".reflection");t&&(t.style.transform=null);const s=e.querySelector(".shadow");s&&(s.style.boxShadow=null,s.style.opacity=null)}document.querySelectorAll(".apple-tv-card").forEach((c=>{const l=c.closest(".apple-tv-card-container");l.querySelector(".apple-tv-card-title")||l.classList.add("no-title");const o=Math.max(c.clientWidth,c.clientHeight);c.style.fontSize=o/3.5+"px";const r=c.querySelector(".content");r.setAttribute("tabindex","0"),r.addEventListener("focus",e),r.addEventListener("blur",t),c.addEventListener("mouseenter",s),c.addEventListener("touchstart",s),c.addEventListener("mousemove",n),c.addEventListener("touchmove",n),c.addEventListener("mouseleave",a),c.addEventListener("touchend",a),c.addEventListener("touchcancel",a)})),window.addEventListener("resize",(function(){document.querySelectorAll(".apple-tv-card").forEach((e=>{const t=Math.max(e.clientWidth,e.clientHeight);e.style.fontSize=t/3.5+"px"}))}))}()})()}}]);